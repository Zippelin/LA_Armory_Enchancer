(()=>{"use strict";const e="https://xn--80aubmleh.xn--p1ai/%D0%9E%D1%80%D1%83%D0%B6%D0%B5%D0%B9%D0%BD%D0%B0%D1%8F/",n="https://static.monopoly.la.gmru.net/",t=[{iconName:"ability_211.png",engrageName:"Абсолютный контроль"},{iconName:"ability_235.png",engrageName:"Адреналин"},{iconName:"buff_166.png",engrageName:"Астральное тело"},{iconName:"ability_229.png",engrageName:"Баланс элементов"},{iconName:"buff_63.png",engrageName:"Безмятежный дух"},{iconName:"ability_269.png",engrageName:"Безрассудство"},{iconName:"buff_94.png",engrageName:"Беспощадность"},{iconName:"buff_148.png",engrageName:"Бесшумный убийца"},{iconName:"ability_263.png",engrageName:"Бледная луна"},{iconName:"buff_229.png",engrageName:"Божественная защита"},{iconName:"gl_skill_01_26.png",engrageName:"Бомбардировка"},{iconName:"buff_105.png",engrageName:"Бравада"},{iconName:"ability_230.png",engrageName:"Ва-банк"},{iconName:"ability_249.png",engrageName:"Весенний рассвет"},{iconName:"ability_261.png",engrageName:"Воля палача"},{iconName:"ability_45.png",engrageName:"Воплощение Силы"},{iconName:"ability_47.png",engrageName:"Вторая модель"},{iconName:"ability_267.png",engrageName:"Герой-одиночка"},{iconName:"ability_224.png",engrageName:"Гильотина"},{iconName:"buff_237.png",engrageName:"Голем"},{iconName:"ability_223.png",engrageName:"Голос луны"},{iconName:"achieve_08_49.png",engrageName:"Гравитационное сжатие"},{iconName:"buff_121.png",engrageName:"Гренадер"},{iconName:"buff_191.png",engrageName:"Грозовая буря"},{iconName:"ability_222.png",engrageName:"Жажда"},{iconName:"achieve_08_62.png",engrageName:"Засада"},{iconName:"ability_237.png",engrageName:"Заступник"},{iconName:"achieve_07_22.png",engrageName:"Избранный путь"},{iconName:"ability_273.png",engrageName:"Император"},{iconName:"ability_272.png",engrageName:"Императрица"},{iconName:"buff_168.png",engrageName:"Иссечение"},{iconName:"buff_122.png",engrageName:"Источник маны"},{iconName:"ability_215.png",engrageName:"Исцеляющая вера"},{iconName:"ability_275.png",engrageName:"Кантата доблести"},{iconName:"ability_231.png",engrageName:"Карающая длань"},{iconName:"ability_271.png",engrageName:"Кибер-солдат"},{iconName:"ability_248.png",engrageName:"Круговорот светил"},{iconName:"buff_177.png",engrageName:"Ликующий дух"},{iconName:"buff_170.png",engrageName:"Лучшая защита"},{iconName:"achieve_06_14.png",engrageName:"Мастер подготовки"},{iconName:"ability_214.png",engrageName:"Мастер-фехтовальщик"},{iconName:"buff_235.png",engrageName:"Медитация"},{iconName:"ability_225.png",engrageName:"Миротворец"},{iconName:"buff_10.png",engrageName:"Молниеносные рефлексы"},{iconName:"achieve_03_40.png",engrageName:"Моргенштерн"},{iconName:"buff_78.png",engrageName:"Мудрость Энвиссы"},{iconName:"ability_217.png",engrageName:"Наследие «Генезиса»"},{iconName:"buff_44.png",engrageName:"Несокрушимый боец"},{iconName:"buff_66.png",engrageName:"Неутомимость"},{iconName:"buff_210.png",engrageName:"Неутомимый натиск"},{iconName:"buff_113.png",engrageName:"Новый рассвет"},{iconName:"buff_162.png",engrageName:"Обман смерти"},{iconName:"ability_232.png",engrageName:"Обманный маневр"},{iconName:"ability_240.png",engrageName:"Обострённые чувства"},{iconName:"ability_241.png",engrageName:"Осознанный диссонанс"},{iconName:"ability_209.png",engrageName:"Остаточная энергия"},{iconName:"buff_239.png",engrageName:"Отражающий барьер"},{iconName:"ability_228.png",engrageName:"Отстрел"},{iconName:"ability_234.png",engrageName:"ПАНИКА"},{iconName:"ability_25.png",engrageName:"Перерождение"},{iconName:"buff_600.png",engrageName:"Пистолеты и пули"},{iconName:"buff_136.png",engrageName:"Победная эйфория"},{iconName:"ability_233.png",engrageName:"Побоище"},{iconName:"ability_258.png",engrageName:"Повелитель бури"},{iconName:"ability_208.png",engrageName:"Полнолуние"},{iconName:"buff_245.png",engrageName:"Последний полет"},{iconName:"ability_207.png",engrageName:"Превосходство светил"},{iconName:"achieve_04_30.png",engrageName:"Презрение к слабым"},{iconName:"buff_89.png",engrageName:"Разрушитель щитов"},{iconName:"ability_266.png",engrageName:"Рвение защитника"},{iconName:"ability_259.png",engrageName:"Сезон дождей"},{iconName:"ability_239.png",engrageName:"Скальпель"},{iconName:"ability_238.png",engrageName:"Скорая помощь"},{iconName:"ability_236.png",engrageName:"Скоротечная расправа"},{iconName:"buff_18.png",engrageName:"Собиратель душ"},{iconName:"ability_268.png",engrageName:"Стабильная гравитация"},{iconName:"buff_147.png",engrageName:"Стальные нервы"},{iconName:"buff_65.png",engrageName:"Стремительность"},{iconName:"buff_83.png",engrageName:"Тактическое превосходство"},{iconName:"ability_210.png",engrageName:"Твердая воля"},{iconName:"ability_212.png",engrageName:"Темная сторона"},{iconName:"buff_29.png",engrageName:"Темный пакт"},{iconName:"ability_216.png",engrageName:"Технология Ардетайна"},{iconName:"buff_71.png",engrageName:"Титаноборец"},{iconName:"buff_46.png",engrageName:"Тяжелая броня"},{iconName:"ability_270.png",engrageName:"Тёмное безрассудство"},{iconName:"ability_264.png",engrageName:"Узы судьбы"},{iconName:"ability_242.png",engrageName:"Универсал"},{iconName:"ability_260.png",engrageName:"Хищница"},{iconName:"ability_274.png",engrageName:"Чародейская гениальность"},{iconName:"buff_74.png",engrageName:"Час жатвы"},{iconName:"buff_238.png",engrageName:"Четвертая чакра"},{iconName:"ability_276.png",engrageName:"Экстаз"},{iconName:"ability_221.png",engrageName:"Медлительность"},{iconName:"ability_219.png",engrageName:"Износ"},{iconName:"ability_220.png",engrageName:"Миролюбие"},{iconName:"ability_218.png",engrageName:"Ржавчина"}],a="profile-equipment__character",i="js-injection--gears-power-pending",r="js-injection--sorter-button-active",c="js-injection--sorter-button",l="js-injection--class-icon",o="js-injection--gears-power-header",s="js-injection--gears-power-values-major",g="js-injection--gears-power-values-minor",m="js-injection--gears-power-wrapped",u="js-injection--character-order",p="js-injection--current-profile-quality-wrapper",N="js-injection--current-profile-quality-lines-wrapper",d="js-injection--current-profile-quality-line",f="js-injection--current-profile-quality-text",_="js-injection--current-profile-elixirs-content",h="js-injection--current-profile-elixirs-wrapper",y="js-injection--current-profile-elixirs-dot",b="gsrating__table",E="gsrating__table-th--rating",v="js-injection--gslist-header-engraves",j="js-injection--gslist-header-stats",C="js-injection--gslist-engrave-slot-01",S="js-injection--gslist-engrave-slot-02",x="js-injection--gslist-stat-slot-01",T="js-injection--gslist-stat-slot-02",L="js-injection--gslist-engrave-slot-loader",B="js-injection--gslist-stats-slot-loader",A="js-injection--gslist-engrave-wrapper",w="js-injection--gslist-stats-wrapper",R="paginator__item-link",k="paginator__control-link",O="gsrating__subtabs",q="gsrating__menu-list",I="gsrating__tabs",G=/.+<div class="level-info2__item"><span>Максимальный рейтинг<\/span><span><small>Ур.<\/small>(?<currentGearsMain>\d*,*\d+).+(?<currentGearsSecondary>.*\d\d)/,M=/.+<div class="level-info2__expedition"><span>Текущий рейтинг снаряжения<\/span><span><small>Ур.<\/small>(?<currentGearsMain>\d*,*\d+).+(?<currentGearsSecondary>.*\d\d)/,V=/.+<img class="profile-character-info__img" src="(?<iconPath>.+?)"/,P=/.*<script type="text\/javascript">[\S\s]*Profile = (?<profileData>\{[\S\s]+\});\n<\/script>/,H=/<FONT.*>(?<itemType>\[.*?\])<\/FONT>(?<exilirName>.+?)<FONT.+>(?<elixirLevel>\d+)/,D=/(?<engraveName>[А-яё]+[\s-]*[А-яё]*)\s(?<engraveLevel>\d)\sур/g,W=/(?<statName>Смертоносность|Подавление|Мастерство|Подавление|Стойкость|Искусность|Сноровка).+?(?<statValue>\d+)/g;function J(e){const n=e.match(H);return n&&n.groups&&4===n.length?{itemType:n.groups.itemType.trim(),elixirName:n.groups.exilirName.trim(),elixirLevel:n.groups.elixirLevel.trim()}:null}function F(e){const n=e.match(/\d+/);return n?n[0]:"0"}function z(e,n){return function(t){return function(a){var i,l,o;const g=(null===(i=t.previousSibling)||void 0===i?void 0:i.previousSibling).querySelector(".".concat(r));null==g||g.classList.remove(r),null==g||g.classList.add(c);const m=a.target;null===(l=m.parentElement)||void 0===l||l.classList.remove(c),null===(o=m.parentElement)||void 0===o||o.classList.add(r);let p=t.children;if(p.length>1){let a=[...p];e===Q.GEARS_POWER&&a.sort(((e,t)=>{const a=e.querySelector(".".concat(s)),i=t.querySelector(".".concat(s));return a&&i&&parseInt(a.innerHTML.replace(",",""))>parseInt(i.innerHTML.replace(",",""))?-1*n:1*n})),e===Q.CREATION&&a.sort(((e,t)=>{const a=e.querySelector(".".concat(u)),i=t.querySelector(".".concat(u));return a&&i&&parseInt(F(a.innerHTML))>parseInt(F(i.innerHTML))?-1*n:1*n}));for(let e=0;e<p.length;e++)t.appendChild(a[e])}}}}var K,Q,U;!function(e){e[e.JSON=0]="JSON",e[e.LIB=1]="LIB",e[e.NONE=3]="NONE"}(K||(K={})),function(e){e[e.CREATION=0]="CREATION",e[e.GEARS_POWER=1]="GEARS_POWER"}(Q||(Q={})),function(e){e[e.ENGRAVE=1]="ENGRAVE",e[e.STATS=2]="STATS"}(U||(U={}));const X=["медлительность","износ","миролюбие","ржавчина"],Y=[{label:"новые",sortByType:Q.CREATION,callback:z(Q.CREATION,-1),isCurrent:!0},{label:"старые",sortByType:Q.CREATION,callback:z(Q.CREATION,1),isCurrent:!1},{label:"сильные",sortByType:Q.GEARS_POWER,callback:z(Q.GEARS_POWER,1),isCurrent:!1},{label:"слабые",sortByType:Q.GEARS_POWER,callback:z(Q.GEARS_POWER,-1),isCurrent:!1}];var Z;!function(e){e[e.ProfileBackground=0]="ProfileBackground"}(Z||(Z={}));const $=["абсолютный контроль","баланс элементов","безрассудство","бледная луна","бомбардировка","ва-банк","весенний рассвет","воля палача","воплощение силы","вторая модель","герой-одиночка","голос луны","гравитационное сжатие","жажда","избранный путь","император","императрица","исцеляющая вера","кантата доблести","кибер-солдат","круговорот светил","ликующий дух","мастер-фехтовальщик","медитация","миротворец","мудрость энвиссы","наследие «генезиса»","обострённые чувства","осознанный диссонанс","остаточная энергия","отстрел","перерождение","пистолеты и пули","повелитель бури","полнолуние","последний полет","превосходство светил","рвение защитника","сезон дождей","стабильная гравитация","твердая воля","темная сторона","технология ардетайна","тёмное безрассудство","узы судьбы","универсал","хищница","чародейская гениальность","четвертая чакра","экстаз"],ee=50;function ne(e){const a=t.findIndex((n=>n.engrageName.trim().toLowerCase()==e.trim().toLowerCase()));if(a>=0){const e="efui_iconatlas/"+t[a].iconName.split("_")[0]+"/"+t[a].iconName;return n+e}return""}function te(e){return n+e}function ae(e){if(e===Z.ProfileBackground)return"chrome-extension://"+chrome.runtime.id+"/media/img/profile_bg.png"}function ie({text:e="",classes:n=[],style:t={}}={}){return se("div",e,n,t)}function re({text:e="",classes:n=[],style:t={}}={}){return se("span",e,n,t)}function ce({text:e="",classes:n=[],style:t={}}={}){return se("td",e,n,t)}function le({text:e="",classes:n=[],style:t={},callbacks:a={}}={}){const i=se("button",e,n,t);for(const e in a)i.addEventListener(e,a[e]);return i}function oe({src:e,classes:n=[],style:t={}}){const a=se("img","",n,t);return a.src=e,a}function se(e,n="",t=[],a={}){const i=document.createElement(e);return i.classList.add(...t),i.innerHTML=n||"",function(e,n={}){if(n)for(const t in n)e.style[t]=n[t]}(i,a),i}function ge(e,n){const t=re({classes:["js-injection--sorter-wrapper"]}),a=re({text:"Сортировка:",classes:["js-injection--sorter-title"],style:{marginRight:"10px"}});t.appendChild(a);for(let a=0;a<e.length;a++){const i=re(),l=le({text:e[a].label,callbacks:{click:e[a].callback(n)}});i.appendChild(l),a<e.length&&(i.style.marginRight="10px"),e[a].isCurrent?i.classList.add(r):i.classList.add(c),t.append(i)}return t}function me(n,t){const a=function(){const e=ie({classes:[m]}),n=re({text:"загружаю...",classes:[i]});return e.appendChild(n),e}();t.insertAdjacentElement("beforeend",a),function(n,t){fetch(function(n){return e+n}(n)).then((e=>{e.text().then((e=>{t(e,n)}))}))}(n,(function(e,n){var t,r;(function(e){const n=e.getElementsByClassName(i);n&&e.removeChild(n[0])})(a),a.appendChild((r=function(e){const n=e.match(V);return n?n[1]:""}(e),oe({src:r,classes:[l],style:{height:"20px",width:"20px"}}))),a.appendChild(ie({text:"Снаряжение:",classes:[o]})),a.appendChild((t=function(e){const n=e.match(M);return n?n[1]:""}(e),ie({text:t,classes:[s]}))),a.appendChild(function(e){const n=ie({classes:[g]}),t=ie({text:"/",classes:[g]}),a=ie({text:e,classes:[g]});return n.appendChild(t),n.appendChild(a),n}(function(e){const n=e.match(G);return n?n[1]:""}(e)))}))}function ue(){const e=ce({classes:[A]}),n=Ne(),t=ie({classes:[C],style:{display:"none"}}),a=ie({classes:[S],style:{display:"none"}});return e.appendChild(n),e.appendChild(t),e.appendChild(a),e}function pe(){const e=ce({classes:[w]}),n=de(),t=ie({classes:[x],style:{display:"none"}}),a=ie({classes:[T],style:{display:"none"}});return e.appendChild(n),e.appendChild(t),e.appendChild(a),e}function Ne(){return ie({text:"загрузка",classes:[L]})}function de(){return ie({text:"загрузка",classes:[B]})}function fe(e){return oe({src:ne(e),style:{height:"20px",width:"20px",float:"left",marginRight:"5px"}})}function _e(e){const n=ie({style:{display:"flex"}}),t=ie();t.innerHTML=e.statName;const a=ie({style:{flexGrow:"1"}}),i=ie();return i.innerHTML=e.statValue,n.appendChild(t),n.appendChild(a),n.appendChild(i),n}function he(){setTimeout((()=>{const e=Ee();e?(ve(e),xe(),Te(),function(){const e=document.getElementsByClassName(I)[0].getElementsByClassName(q)[0];if(e)for(let n=0;n<e.children.length;n++)e.children[n].addEventListener("click",(function(){be()}))}()):he()}),ee)}function ye(){setTimeout((()=>{const e=Ee();e?(ve(e),xe()):ye()}),ee)}function be(){setTimeout((()=>{const e=Ee();e?(ve(e),Te(),xe()):be()}),ee)}function Ee(){return document.querySelector(".".concat(b))}function ve(e){!function(e){(function(e){je(e,"Классовые гравировки",v)})(e),function(e){je(e,"Основа",j)}(e)}(e),Ce(e)}function je(e,n,t){if(!e.getElementsByClassName(t)[0]){const t=null==e?void 0:e.getElementsByTagName("thead")[0].getElementsByTagName("tr")[0];t.insertBefore(function(e){const n=function({text:e="",classes:n=[],style:t={}}={}){return se("th",e,n,t)}({text:e,classes:[E,v]});return n}(n),t.childNodes[t.childNodes.length-1])}}function Ce(e){function n(e,n,t,a,i){let r=e.getElementsByClassName(n)[0];return r?(r.children[0].style.display="none",r.children[1].style.display="none",r.insertBefore(i(),r.children[0])):(r=a(),e.insertBefore(r,e.children[t])),r}const t=null==e?void 0:e.getElementsByTagName("tbody")[0];for(let e=0;e<t.children.length;e++){const i=Le(t.children[e].children[1]),r=n(t.children[e],w,t.children[e].children.length-1,pe,de),c=n(t.children[e],A,t.children[e].children.length-2,ue,Ne);chrome.runtime.sendMessage({signal:"fetchCharacterPage",charName:i},a(c,r,i))}function a(e,n,t){return function(a){var i;function r(e,n,t,a,i,r){let c=[];if(r===U.ENGRAVE){const n=function(e){return Array.from(e.matchAll(D),(e=>[e[1],e[2]])).map((e=>({engraveName:e[0].trim(),engraveLevel:e[1].trim()})))}(e);c=(l=n,l.filter((e=>{if($.includes(e.engraveName.toLocaleLowerCase()))return e}))).map((e=>e.engraveName))}var l;r===U.STATS&&(c=function(e){const n=Array.from(e.matchAll(W),(e=>[e[1],e[2]])).map((e=>({statName:e[0].trim(),statValue:e[1].trim()})));return n.sort(((e,n)=>parseInt(e.statValue)>parseInt(n.statValue)?-1:1)),n.slice(0,2)}(e));const o=n.getElementsByClassName(t)[0];o&&n.removeChild(o);const s=n.getElementsByClassName(a)[0],g=n.getElementsByClassName(i)[0];c.length>=1&&(r===U.ENGRAVE&&(s.innerHTML=c[0]),r===U.STATS&&s.appendChild(_e(c[0])),s.style.display="block",r===U.ENGRAVE&&s.appendChild(fe(c[0]))),2==c.length&&(r===U.ENGRAVE&&(g.innerHTML=c[1]),r===U.STATS&&g.appendChild(_e(c[1])),g.style.display="block",r===U.ENGRAVE&&g.appendChild(fe(c[1])))}const c=null===(i=e.parentNode)||void 0===i?void 0:i.children[1];c&&Le(c)===t&&(r(a,e,L,C,S,U.ENGRAVE),r(a,n,B,x,T,U.STATS))}}}function Se(){const e=Ee();e&&Ce(e)}function xe(){const e=document.getElementsByClassName(R);for(let n=0;n<e.length;n++)e[n].addEventListener("click",Se);const n=document.getElementsByClassName(k);for(let e=0;e<n.length;e++)n[e].addEventListener("click",Se)}function Te(){const e=document.getElementsByClassName(O)[0].getElementsByClassName(q)[0];if(e)for(let n=0;n<e.children.length;n++)e.children[n].addEventListener("click",(function(){ye()}))}function Le(e){return e.getElementsByTagName("a")[0].innerHTML}function Be(e){switch(!0){case 0===e:return"rgb(0, 0, 0)";case e<10:return"rgba(255,86,27,255)";case e<30:return"rgba(255,241,13,255)";case e<70:return"rgba(99,177,11,255)";case e<90:return"rgba(16,205,255,255)";case e<100:return"rgba(181,12,255,255)";case 100===e:return"rgba(231,105,41,255)"}return"rgb(0, 0, 0)"}function Ae(e){switch(!0){case 0===e:case 1===e:return{background:"rgba(247,255,255,255)",color:"rgba(0,0,0,255)"};case 2===e:return{background:"rgba(0,148,209,255)",color:"rgba(255,255,255,255)"};case 3===e:return{background:"rgba(146,0,185,255)",color:"rgba(255,255,255,255)"};case 4===e:return{background:"rgba(205,112,0,255)",color:"rgba(255,255,255,255)"};case 5===e:return{background:"rgba(194,56,0,255)",color:"rgba(255,255,255,255)"}}return{background:"rgba(247,255,255,255)",color:"rgba(0,0,0,255)"}}function we(e){const n=ie({classes:[p]}),t=function(e){const n=Math.round(e/100*41);return{filled:n.toString()+"px",remainder:(41-n).toString()+"px"}}(e),a=ie({classes:[N]}),i=ie({classes:[d],style:{background:Be(e),width:t.filled}}),r=ie({text:e.toString(),classes:[f]});return n.appendChild(a),n.appendChild(i),n.appendChild(r),n}function Re(e){function n(e){const n=ie({classes:[_]}),t=ie(),a=re({text:e.elixirName,style:{color:"#fff",marginRight:"5px"}});return t.appendChild(a),n.appendChild(t),n}const t=ie({classes:[h]});for(let a in e){const i=Ae(parseInt(e[a].elixirLevel)),r=ie({classes:[_]}),c=ie({text:e[a].elixirLevel,classes:[y],style:{background:i.background,color:i.color}});r.appendChild(c),r.appendChild(n(e[a]));const l=ie();t.appendChild(r),t.appendChild(l)}return t}(function(){const e=document.querySelectorAll(".".concat("profile-character-list__char"));if(e)for(let t=0;t<e.length;t++){const a=e[t].getElementsByTagName("button");for(let e=0;e<a.length;e++)me(a[e].getElementsByTagName("span")[0].innerHTML,a[e]),n=e,a[e].insertAdjacentElement("beforebegin",function(e){return ie({text:"["+e.toString()+"]",classes:[u]})}(n+1))}var n})(),function(){var e;const n=document.querySelectorAll(".".concat("profile-character-list__server"));for(let t=0;t<n.length;t++){const a=null===(e=n[t].nextSibling)||void 0===e?void 0:e.nextSibling;n[t].appendChild(ge(Y,a))}}(),function(){var e;const n=null===(e=document.querySelector("html"))||void 0===e?void 0:e.innerHTML;if(n){const e=function(e){const n=e.match(P);let t=null;return n&&(t=JSON.parse(n[1])),t}(n);e&&(function(e){for(let n in e)if("ItemTitle"===e[n].Element_001.type&&e[n].Element_001.value.qualityValue&&-1!=e[n].Element_001.value.qualityValue){const t=document.querySelector('[data-item="'+n+'"]');t&&t.insertAdjacentElement("beforeend",we(e[n].Element_001.value.qualityValue))}}(e.Equip),function(e){function n(n){let t=n.getElementsByTagName("span")[0].innerHTML;n.classList.add("js-injection--current-profile-engrave-wrapper");const a=t.match(/(.*)(\d+ ур.)/);if(a&&3===a.length){n.getElementsByTagName("span")[0].innerHTML=a[1],X.includes(a[1].trim().toLowerCase())&&(n.getElementsByTagName("span")[0].style.color="red");const t=re({text:a[2],classes:["js-injection--current-profile-engrave-level"]});n.appendChild(t);const i=function(n){for(let t in e)if(e[t].Element_000.value.toLowerCase().trim()==n.toLowerCase().trim())return{urlSource:K.JSON,url:te(e[t].Element_001.value.slotData.iconPath)};const t=ne(n);return t?{urlSource:K.LIB,url:t}:{urlSource:K.NONE,url:""}}(a[1]);if(i.urlSource!=K.NONE){n.getElementsByTagName("span")[0].style.fontWeight="bold !important";const e=oe({src:i.url,classes:["js-injection--current-profile-engrave-icon"],style:{height:"20px",width:"20px"}});return n.insertBefore(e,n.getElementsByTagName("span")[0]),i.urlSource}}return K.NONE}(function(){const e=document.querySelector(".".concat("swiper-wrapper"));if(e)for(let t=0;t<e.children.length;t++)for(let a=0;a<e.children[t].children.length;a++){let i=e.children[t].children[a];const r=n(i);r===K.JSON&&e.children[0].insertBefore(i,e.children[0].children[0]),t>0&&(r===K.JSON?e.children[0].insertBefore(i,e.children[0].children[0]):e.children[0].appendChild(i),a--)}})(),function(){const e=document.querySelector(".".concat("swiper-container")),n=document.querySelector(".".concat("swiper-option"));e&&n&&e.removeChild(n)}()}(e.Engrave),function(e){let n;for(let t in e){if(e[t].Element_007&&e[t].Element_007.value&&e[t].Element_007.value.Element_000&&e[t].Element_007.value.Element_000.contentStr)n=e[t].Element_007.value.Element_000.contentStr;else{if(!(e[t].Element_008&&e[t].Element_008.value&&e[t].Element_008.value.Element_000&&e[t].Element_008.value.Element_000.contentStr))continue;n=e[t].Element_008.value.Element_000.contentStr}const a=document.querySelector('[data-item="'+t+'"]');if(a){const e=[];for(let t in n){const a=J(n[t].contentStr);a&&e.push(a)}const t=window.getComputedStyle(a),i=Re(e);i.style.top=t.top,i.style.left=(parseInt(t.left.slice(0,-2))+55).toString()+"px",a.insertAdjacentElement("afterend",i)}}if(n){const e=document.querySelector(".".concat(a));e&&e.classList.add("profile-equipment__character-override")}}(e.Equip),function(){const e=oe({src:ae(Z.ProfileBackground),classes:[a,"js-injection--profile-background"]}),n=document.querySelector(".".concat(a));if(n){const t=n.children[0].cloneNode(),a=n.children[0].cloneNode();n.children[0].style.zIndex="2",t.classList.add("js-injection--profile-image-shadow-01"),a.classList.add("js-injection--profile-image-shadow-02"),n.appendChild(e),n.appendChild(t),n.appendChild(a)}}())}}(),window.location.toString().startsWith("https://lostark.ru/gsrating")&&he()})();