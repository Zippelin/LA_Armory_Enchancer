(()=>{"use strict";const e="js-injection--sorter-button-active",n="js-injection--sorter-button",t="js-injection--gears-power-values-major",r="js-injection--character-order";function c(e){const n=e.match(/\d+/);return n?n[0]:"0"}function o(o,i){return function(s){return function(l){var u,E,R;const S=(null===(u=s.previousSibling)||void 0===u?void 0:u.previousSibling).querySelector(".".concat(e));null==S||S.classList.remove(e),null==S||S.classList.add(n);const A=l.target;null===(E=A.parentElement)||void 0===E||E.classList.remove(n),null===(R=A.parentElement)||void 0===R||R.classList.add(e);let O=s.children;if(O.length>1){let e=[...O];o===a.GEARS_POWER&&e.sort(((e,n)=>{const r=e.querySelector(".".concat(t)),c=n.querySelector(".".concat(t));return r&&c&&parseInt(r.innerHTML.replace(",",""))>parseInt(c.innerHTML.replace(",",""))?-1*i:1*i})),o===a.CREATION&&e.sort(((e,n)=>{const t=e.querySelector(".".concat(r)),o=n.querySelector(".".concat(r));return t&&o&&parseInt(c(t.innerHTML))>parseInt(c(o.innerHTML))?-1*i:1*i}));for(let n=0;n<O.length;n++)s.appendChild(e[n])}}}}var i,a,s,l,u;!function(e){e[e.JSON=0]="JSON",e[e.LIB=1]="LIB",e[e.NONE=3]="NONE"}(i||(i={})),function(e){e[e.CREATION=0]="CREATION",e[e.GEARS_POWER=1]="GEARS_POWER"}(a||(a={})),function(e){e[e.ENGRAVE=1]="ENGRAVE",e[e.STATS=2]="STATS"}(s||(s={})),a.CREATION,o(a.CREATION,-1),a.CREATION,o(a.CREATION,1),a.GEARS_POWER,o(a.GEARS_POWER,1),a.GEARS_POWER,o(a.GEARS_POWER,-1),(u=l||(l={}))[u.ProfileBackground=0]="ProfileBackground",chrome.runtime.onMessage.addListener((function(e,n,t){return"fetchCharacterPage"===e.signal&&(r=e.charName,c=t,fetch(function(e){return"https://xn--80aubmleh.xn--p1ai/%D0%9E%D1%80%D1%83%D0%B6%D0%B5%D0%B9%D0%BD%D0%B0%D1%8F/"+e}(r)).then((e=>{e.text().then((e=>{c(e,r)}))}))),!0;var r,c}))})();